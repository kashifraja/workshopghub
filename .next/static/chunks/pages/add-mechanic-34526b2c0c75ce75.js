(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{791:(e,t,a)=>{"use strict";a.d(t,{N:()=>i});let i=(0,a(156).UU)("https://dnunrkkrsltywmtoyirj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRudW5ya2tyc2x0eXdtdG95aXJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI2MDI5MDEsImV4cCI6MjA1ODE3ODkwMX0.a0zK7-4exPuoc1b9ykrMX0GeqsUwx1qATAOXiImrUqc")},2481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var i=a(7876),s=a(4232),n=a(9099),r=a(791),c=a(9446);let u=()=>{let e=(0,n.useRouter)(),{user:t}=(0,c.J)();(0,s.useEffect)(()=>{t||e.push("/auth/login")},[t,e]);let[a,u]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),[h,o]=(0,s.useState)(""),[p,m]=(0,s.useState)(null),I=async t=>{t.preventDefault();try{let{error:t}=await r.N.from("mechanic").insert([{name:a,commission:l,specialty:h}]);if(t)throw t;e.push("/mechaniclist")}catch(e){m("Failed to add mechanic"),console.error(e)}};return(0,i.jsxs)("div",{className:"container mt-5",children:[(0,i.jsx)("h1",{children:"Add New Mechanic"}),p&&(0,i.jsx)("p",{children:p}),(0,i.jsxs)("form",{onSubmit:I,children:[(0,i.jsx)("input",{type:"text",placeholder:"Name",value:a,onChange:e=>u(e.target.value),required:!0}),(0,i.jsx)("input",{type:"number",placeholder:"Commission",value:l,onChange:e=>d(e.target.value),required:!0}),(0,i.jsx)("input",{type:"text",placeholder:"Specialty",value:h,onChange:e=>o(e.target.value),required:!0}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Mechanic"})]})]})}},3804:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-mechanic",function(){return a(2481)}])},9099:(e,t,a)=>{e.exports=a(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(3804)),_N_E=e.O()}]);